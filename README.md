# Задание: 
Разработка системы управления заказами в кафе.
Необходимо разработать полнофункциональное веб-приложение на Django для управления заказами в кафе. Приложение должно позволять добавлять, удалять, искать, изменять и отображать заказы. Каждый заказ должен содержать следующие поля:
   - **id** (уникальный идентификатор, генерируется автоматически)
   - **table_number** (номер стола)
   - **items** (список заказанных блюд с ценами)
   - **total_price** (общая стоимость заказа, вычисляется автоматически)
   - **status** (статус заказа: “в ожидании”, “готово”, “оплачено”)

Функциональные требования:
  - Добавление заказа:
    - Через веб-интерфейс пользователь вводит номер стола и список блюд с ценами. Система автоматически добавляет заказ   с уникальным ID, рассчитанной стоимостью и статусом “в ожидании”.
  - Удаление заказа:
    -Пользователь через веб-интерфейс выбирает заказ по ID и удаляет его из системы.
  - Поиск заказа:
    - Возможность поиска заказов по номеру стола или статусу через поисковую строку.
  - Отображение всех заказов:
    - Веб-страница с таблицей всех заказов, отображающая их ID, номер стола, список блюд, общую стоимость и статус.
  - Изменение статуса заказа:
    - Пользователь через интерфейс выбирает заказ по ID и изменяет его статус (“в ожидании”, “готово”, “оплачено”).
  - Расчет выручки за смену:
    - Отдельная страница или модуль для расчета общего объема выручки за заказы со статусом “оплачено”.

***

# API

Была добавлена библиотека **drf-yasg** и добавлен маршрут /api/docs,
чтобы было более удобно взаимодействовать с API в Swagger формате.
### Пример POST запроса, создание нового заказа: 
  {
    "status": "waiting",
    "table_number": 44,
    "items": [
      {
        "item": 1, 
        "quantity": 2
      },
      {
        "item": 2,
        "quantity": 3
      }
    ]
  }

## Пример PUT запроса, изменени заказа по id:
  {
  "table_number": 44,
    "status": "paid",
    "items": [
      {
        "item": 1,
        "quantity": 5
      },
      {
        "item": 3,
        "quantity": 2
      }
    ]
  }

***
Все требования к ТЗ были выполнены.
"Через веб-интерфейс пользователь вводит номер стола и список блюд с ценами" - в этом варианте пришлось бы создать поле JsonField, мне показалось это не удобным, поэтому для удобства пользования веб интерфейсом была создана еще одна сущность Item (позиция в меню). Связь с Order M2M.

## TODO
Не полностью реализована CRUD для сущности Item. 
Конечно Item может быть очень много, поэтому нужно в этом случае вводить такую сущность как КАТЕГОРИЯ.
Возможно есть смысл в такой сущности как СМЕНА, чтобы при начале новой смены список заказов бы очищался и в конце смены подсчитывалась выручка.

## BUILD

Для сборки приложения используется Docker.
** Выполните команды: **
- Скопируйте репозиторий
```bash
git clone https://github.com/ramissabirzyanov/Effective-Mobile-task.git
```
- Создание файл .env в корне проекта. И установите в нём переменные на основе примера (.env.example).
```bash
 touch .env
```
- Запустите приложение
```bash
docker-compose up --build
```
Приложение запуститься по адресу: http://127.0.0.1:8000/
